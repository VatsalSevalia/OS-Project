<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Dining Philosophers</title>
<html>
        <link rel="stylesheet" href="./style.css">

        <head>
               
                <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
                <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
                <link rel="stylesheet" type="text/css"
                        href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" />
        </head>
        
        <body style="background-color:#3f3f3f; color: blanchedalmond;" class="text-center">
                <br>
        <div> 
                <h1 style="font-family: "Roboto",sans-serif;">DINING PHILOSOPHERS</h1>
		
		<div id="pro" style="border-top:5px groove rgb(131, 121, 121); width:74%; margin-left:210px" />
            <br>
        </div>
		  <div class="box-container">
               
                <img1 src="" alt="">
				
                <div class="small-circle small-circle5"></div>
				<div style="text-align:left;">=EATING</div>
                
                <div class="small-circle small-circle6"></div>
				<div style="text-align:left;">=THINKING</div>
                
                <div class="small-circle small-circle7"></div>
				<div style="text-align:left;">=FINISHED EATING</div>
                <div class="img-container img-container0">
                        <h4>Thomas Aquinas</h4>
                        <img class="img img0" src="images/p0.jpg" alt="">
                        
                        <div class="small-circle small-circle0"></div>
                </div>
                <div class="img-container img-container1">
                        <h4>Plato </h4>
                        <img class="img img1" src="images/p1.jpg" alt="">
                        <div class="small-circle small-circle1"></div>
                </div>
                <div class="img-container img-container2">
                        <h4>Hoare</h4>
                        <img class="img img2" src="images/p2.jpg" alt="">
                        <div class="small-circle small-circle2"></div>
                </div>
                <div class="img-container img-container3">
                        <div class="small-circle small-circle4"></div>
                        <img class="img img3" src="images/p3.jpg" alt="">
                        <h4>Confucius </h4>
                </div>
                <div class="img-container img-container4">
                        <div class="small-circle small-circle3"></div>
                        <img class="img img4" src="images/p4.jpg" alt="">
                        <h4>Aristotle</h4>
                </div>

                <div class="big-circle">
                </div>
                <button class="btn btn-primary btn-success" onclick="{flashRed()}">Run</button>
                <!-- <button onclick={flashRed()}>START</button> -->
                <button type="reset"  class="btn btn-primary btn-danger" value="Reset" onclick="myJsFunctionReset()">Reset</button>
        </div>
        </body>
        
       

        <script>
                let semaphore = [1,1,1,1,1]
                let redCount = 0
                let redCount2 = 0
                let red = []
                let red2 = []
                let done = []

                const flashRed = () => {
                        if (redCount > 4) return 

                        redCount2 = (redCount + 2) % 5
                        if(done.indexOf(redCount) === -1){
                                red = document.getElementsByClassName(`small-circle${redCount}`)
                                red[0].classList.add('redHighlight')
                        }
                        if(done.indexOf(redCount2) === -1){
                                red2 = document.getElementsByClassName(`small-circle${redCount2}`)
                                red2[0].classList.add('redHighlight')
                        }
                        
                        for(let i = 0; i < semaphore.length; i++){
                                if (i === redCount || i === redCount2 || done.indexOf(i) !== -1) continue
                                let yellow = document.getElementsByClassName(`small-circle${i}`)
                                yellow[0].classList.add('yellowHighlight')

                                setTimeout(function() {
                                        yellow[0].classList.remove('yellowHighlight')
                                }, 3000);
                        }

                        setTimeout(function() {
                                red[0].classList.remove('redHighlight')
                                red2[0].classList.remove('redHighlight')
                                red[0].classList.add('greenHighlight')
                                red2[0].classList.add('greenHighlight')
                                done.push(redCount)
                                done.push(redCount2)
                                redCount++
                                flashRed()
                        }, 3000);
                }

                function myJsFunctionReset()
                {
                window.location.reload();
                document.getElementById("demo1").innerHTML="";
                }
    
        </script>
</html>